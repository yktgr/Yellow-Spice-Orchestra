
<h1><%= t('recipe.show') %></h1>
<div class="recipe_index">
<li><%= t('shop.name') %><%= Shop.find(@recipe.shop_id).name %></li>
<li><%= t('recipe.name') %><%= @recipe.name %></li>
<div class="picture">
<li><%= image_tag @recipe.picture.url if @recipe.picture.url.present? %></li>
</div>
<div class="recipe_info">
<li><%= t('recipe.content') %><%= @recipe.content %></li>
<li><%= t('recipe.curry_type') %><%= @recipe.curry_type %></li>
<li><%= @recipe.updated_at.strftime('%Y/%m/%d') %></li>
</div>

<div class="favorite">
  <% unless @recipe.user_id == current_user.id %>
    <% if @favorite.present? %>
      <%= link_to t('view.dislike'), recipe_like_path(id: @favorite.id), method: :delete, class: 'btn btn-danger' %>
    <% else %>
      <%= link_to ('view.dislike'),  recipe_likes_path(recipe_id: @recipe.id), method: :post, class: 'btn btn-primary' %>
    <% end %>
  <% end %>
</div>

<div class="flow">
  <% @recipe.flows.each_with_index do |flow,i| %>
    <li><%= i + 1 %>.</li>
    <li><%= image_tag flow.picture.url if flow.picture.url.present?  %></li>
    <li><%= flow.content %></li>
  <% end %>
</div>
</div>

<div class="material">
  <% @recipe.materials.each do |material|  %>
    <li><%= material.name %></li>ï¼š
    <li><%= material.amount %></li>
  <% end %>
</div>

<div id ="comment">
  <%= render partial: 'comments/index', locals: {comments: @comments, recipe: @recipe} %>
  <%= render partial: 'comments/form', locals: {comment: @comment, recipe: @recipe} %>
</div>
<div class="select">
  <li><%= link_to t('view.edit'),edit_recipe_path(@recipe.id) %>
    <%= link_to t('view.delete'),recipe_path(@recipe.id),method: :delete %>
    <%= link_to t('view.back'), recipes_path %></li>
</div>
